RIVETBUILD := RIVET_BUILD_BEFORE_INSTALL=1 bash $(top_builddir)/bin/rivet-build

%.so:
	@+echo && $(RIVETBUILD) $@ $^ -I$(top_builddir)/include

RivetLWTNN.so: EXAMPLE_LWTNN.cc
	@+echo && $(RIVETBUILD) $@ $^ -I$(top_builddir)/include -I$(LWTNN_PREFIX)/include -L$(LWTNN_PREFIX)/lib -llwtnn

RivetROOT.so: EXAMPLE_NTUPLE_ROOT.cc
	@+echo && $(RIVETBUILD) $@ $^ `root-config --cflags --libs`

RivetHTT.so: EXAMPLE_HTT.cc
	@+echo && $(RIVETBUILD) $@ $^ -I$(HEPTOPTAGGER_PREFIX)/include

RivetATLAS_2021_I1869040.so: ATLAS_2021_I1869040.cc
	@+echo && $(RIVETBUILD) $@ $^ -I$(top_builddir)/include -I$(LWTNN_PREFIX)/include -L$(LWTNN_PREFIX)/lib -llwtnn
